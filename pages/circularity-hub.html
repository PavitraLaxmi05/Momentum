<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regional Circularity Hub - Momentum</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <!-- Leaflet CSS for map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <!-- Leaflet JS for map -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-300">
    <div class="min-h-screen flex flex-col">
        <!-- Sidebar Navigation (hidden on mobile) -->
        <div class="hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0">
            <div class="flex-1 flex flex-col min-h-0 bg-green-700 dark:bg-gray-800">
                <div class="flex items-center h-16 flex-shrink-0 px-4 bg-green-800 dark:bg-gray-900">
                    <img class="h-8 w-auto" src="https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg" alt="Momentum">
                    <span class="ml-2 text-white text-lg font-semibold">Momentum</span>
                </div>
                <div class="flex-1 flex flex-col overflow-y-auto">
                    <nav class="flex-1 px-2 py-4 space-y-1">
                        <a href="dashboard.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                            </svg>
                            Dashboard
                        </a>

                        <a href="ecobot.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                            </svg>
                            EcoBot
                        </a>

                        <a href="idea-evaluator.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                            </svg>
                            Idea Evaluator
                        </a>

                        <a href="product-directory.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                            </svg>
                            Product Directory
                        </a>

                        <a href="carbon-coach.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3" />
                            </svg>
                            Carbon Coach
                        </a>

                        <a href="greenswap.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                            </svg>
                            GreenSwap Network
                        </a>

                        <a href="circularity-hub.html" class="bg-green-800 dark:bg-gray-700 text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Regional Circularity Hub
                        </a>

                        <a href="comics-data.html" class="text-white hover:bg-green-600 dark:hover:bg-gray-700 group flex items-center px-2 py-2 text-sm font-medium rounded-md">
                            <svg class="mr-3 h-6 w-6 text-green-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                            </svg>
                            Comics & Research Data
                        </a>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div class="md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="dashboard.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Dashboard</a>
                <a href="ecobot.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">EcoBot</a>
                <a href="idea-evaluator.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Idea Evaluator</a>
                <a href="product-directory.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Product Directory</a>
                <a href="carbon-coach.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Carbon Coach</a>
                <a href="greenswap.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">GreenSwap Network</a>
                <a href="circularity-hub.html" class="bg-green-900 text-white block px-3 py-2 rounded-md text-base font-medium">Regional Circularity Hub</a>
                <a href="comics-data.html" class="text-gray-300 hover:bg-green-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Comics & Research Data</a>
            </div>
        </div>

        <!-- Main content -->
        <div class="md:pl-64 flex flex-col flex-1">
            <div class="sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white dark:bg-gray-800 shadow">
                <button id="mobile-menu-button" type="button" class="md:hidden px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500">
                    <span class="sr-only">Open sidebar</span>
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
                <div class="flex-1 px-4 flex justify-between">
                    <div class="flex-1 flex">
                        <form class="w-full flex md:ml-0" action="#" method="GET">
                            <label for="search-input" class="sr-only">Search</label>
                            <div class="relative w-full text-gray-400 focus-within:text-gray-600">
                                <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none">
                                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <input id="search-input" class="block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 dark:text-gray-100 dark:bg-gray-700 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent sm:text-sm" placeholder="Search" type="search">
                            </div>
                        </form>
                    </div>
                    <div class="ml-4 flex items-center md:ml-6">
                        <!-- Theme toggle -->
                        <button id="theme-toggle" type="button" class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                            <!-- Sun icon -->
                            <svg id="theme-toggle-light-icon" class="hidden h-6 w-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
                            </svg>
                            <!-- Moon icon -->
                            <svg id="theme-toggle-dark-icon" class="hidden h-6 w-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                            </svg>
                        </button>

                        <!-- Profile dropdown -->
                        <div class="ml-3 relative">
                            <div>
                                <button id="user-menu-button" type="button" class="max-w-xs bg-white dark:bg-gray-800 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500" aria-expanded="false" aria-haspopup="true">
                                    <span class="sr-only">Open user menu</span>
                                    <img class="h-8 w-8 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                                </button>
                            </div>
                            <div id="user-menu" class="hidden origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1">
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-0">Your Profile</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-1">Settings</a>
                                <a href="#" class="block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-2">Sign out</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <main class="flex-1">
                <div class="py-6">
                    <!-- Breadcrumb -->
                    <nav class="hidden sm:flex px-4 sm:px-6 lg:px-8" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-4">
                            <li>
                                <div>
                                    <a href="dashboard.html" class="text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200">
                                        <svg class="flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                                        </svg>
                                        <span class="sr-only">Home</span>
                                    </a>
                                </div>
                            </li>
                            <li>
                                <div class="flex items-center">
                                    <svg class="flex-shrink-0 h-5 w-5 text-gray-300 dark:text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M5.555 17.776l8-16 .894.448-8 16-.894-.448z" />
                                    </svg>
                                    <a href="dashboard.html" class="ml-4 text-sm font-medium text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-200">Dashboard</a>
                                </div>
                            </li>
                            <li>
                                <div class="flex items-center">
                                    <svg class="flex-shrink-0 h-5 w-5 text-gray-300 dark:text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M5.555 17.776l8-16 .894.448-8 16-.894-.448z" />
                                    </svg>
                                    <span class="ml-4 text-sm font-medium text-gray-500 dark:text-gray-200" aria-current="page">Regional Circularity Hub</span>
                                </div>
                            </li>
                        </ol>
                    </nav>

                    <div class="px-4 sm:px-6 lg:px-8">
                        <h1 class="text-2xl font-semibold text-gray-900 dark:text-white">Regional Circularity Hub</h1>
                        <p class="mt-2 text-sm text-gray-700 dark:text-gray-300">Discover waste streams and circular economy solutions in your region.</p>
                        
                        <div class="mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3">
                            <!-- Filters and Controls -->
                            <div class="lg:col-span-1 bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg">
                                <div class="px-4 py-5 sm:p-6">
                                    <h2 class="text-lg font-medium text-gray-900 dark:text-white">Map Controls</h2>
                                    
                                    <div class="mt-4">
                                        <label for="region-select" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Region</label>
                                        <select id="region-select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                                            <option value="all" selected>All Regions</option>
                                            <option value="northeast">Northeast</option>
                                            <option value="southeast">Southeast</option>
                                            <option value="midwest">Midwest</option>
                                            <option value="southwest">Southwest</option>
                                            <option value="west">West</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mt-4">
                                        <label for="waste-type" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Waste Type</label>
                                        <select id="waste-type" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                                            <option value="all" selected>All Types</option>
                                            <option value="organic">Organic</option>
                                            <option value="plastic">Plastic</option>
                                            <option value="paper">Paper</option>
                                            <option value="metal">Metal</option>
                                            <option value="glass">Glass</option>
                                            <option value="electronic">Electronic</option>
                                            <option value="textile">Textile</option>
                                            <option value="construction">Construction</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mt-4">
                                        <label for="solution-type" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Solution Type</label>
                                        <select id="solution-type" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                                            <option value="all" selected>All Solutions</option>
                                            <option value="recycling">Recycling Centers</option>
                                            <option value="upcycling">Upcycling Businesses</option>
                                            <option value="composting">Composting Facilities</option>
                                            <option value="repair">Repair Shops</option>
                                            <option value="donation">Donation Centers</option>
                                            <option value="sharing">Sharing Platforms</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mt-4">
                                        <label for="distance" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Distance (miles)</label>
                                        <input type="range" id="distance" name="distance" min="5" max="100" value="25" class="mt-1 block w-full">
                                        <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400">
                                            <span>5</span>
                                            <span>25</span>
                                            <span>50</span>
                                            <span>75</span>
                                            <span>100</span>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-6">
                                        <button type="button" id="apply-filters" class="w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                            Apply Filters
                                        </button>
                                    </div>
                                    
                                    <div class="mt-8">
                                        <h3 class="text-md font-medium text-gray-900 dark:text-white">Add to Map</h3>
                                        <div class="mt-4 space-y-4">
                                            <button type="button" id="add-waste-stream" class="w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                <svg class="-ml-1 mr-2 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                </svg>
                                                Add Waste Stream
                                            </button>
                                            <button type="button" id="add-solution" class="w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                <svg class="-ml-1 mr-2 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                                </svg>
                                                Add Solution
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Map and Smart Matches -->
                            <div class="lg:col-span-2 space-y-6">
                                <!-- Map Interface -->
                                <div class="bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h2 class="text-lg font-medium text-gray-900 dark:text-white">Circularity Map</h2>
                                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Visualize waste streams and circular solutions in your area.</p>
                                        <div id="map" class="mt-4 h-96 rounded-lg border border-gray-300 dark:border-gray-600"></div>
                                        <div class="mt-4 flex flex-wrap gap-2">
                                            <div class="flex items-center">
                                                <span class="inline-block h-4 w-4 rounded-full bg-red-500 mr-2"></span>
                                                <span class="text-xs text-gray-500 dark:text-gray-400">Waste Streams</span>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="inline-block h-4 w-4 rounded-full bg-green-500 mr-2"></span>
                                                <span class="text-xs text-gray-500 dark:text-gray-400">Recycling Centers</span>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="inline-block h-4 w-4 rounded-full bg-blue-500 mr-2"></span>
                                                <span class="text-xs text-gray-500 dark:text-gray-400">Upcycling Businesses</span>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="inline-block h-4 w-4 rounded-full bg-yellow-500 mr-2"></span>
                                                <span class="text-xs text-gray-500 dark:text-gray-400">Composting Facilities</span>
                                            </div>
                                            <div class="flex items-center">
                                                <span class="inline-block h-4 w-4 rounded-full bg-purple-500 mr-2"></span>
                                                <span class="text-xs text-gray-500 dark:text-gray-400">Other Solutions</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Smart Matches -->
                                <div class="bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg">
                                    <div class="px-4 py-5 sm:p-6">
                                        <h2 class="text-lg font-medium text-gray-900 dark:text-white">Smart Matches</h2>
                                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">AI-powered suggestions for connecting waste streams with circular solutions.</p>
                                        
                                        <div class="mt-4 space-y-4">
                                            <!-- Match 1 -->
                                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                                <div class="flex items-start justify-between">
                                                    <div>
                                                        <h3 class="text-md font-medium text-gray-900 dark:text-white">Restaurant Food Waste → Community Garden</h3>
                                                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">0.8 miles apart</p>
                                                    </div>
                                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200">
                                                        98% Match
                                                    </span>
                                                </div>
                                                <div class="mt-3 text-sm text-gray-500 dark:text-gray-400">
                                                    <p>Local restaurants produce 50-100 lbs of food waste daily that could be composted at the nearby community garden.</p>
                                                </div>
                                                <div class="mt-4 flex space-x-3">
                                                    <button type="button" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                        Connect Parties
                                                    </button>
                                                    <button type="button" class="inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 shadow-sm text-xs font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                        View Details
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <!-- Match 2 -->
                                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                                <div class="flex items-start justify-between">
                                                    <div>
                                                        <h3 class="text-md font-medium text-gray-900 dark:text-white">Construction Wood Waste → Furniture Maker</h3>
                                                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">2.3 miles apart</p>
                                                    </div>
                                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200">
                                                        92% Match
                                                    </span>
                                                </div>
                                                <div class="mt-3 text-sm text-gray-500 dark:text-gray-400">
                                                    <p>Construction site generating clean wood waste that could be repurposed by local artisan furniture maker.</p>
                                                </div>
                                                <div class="mt-4 flex space-x-3">
                                                    <button type="button" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                        Connect Parties
                                                    </button>
                                                    <button type="button" class="inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 shadow-sm text-xs font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                        View Details
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <!-- Match 3 -->
                                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                                <div class="flex items-start justify-between">
                                                    <div>
                                                        <h3 class="text-md font-medium text-gray-900 dark:text-white">Textile Factory Scraps → Fashion Design School</h3>
                                                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">5.1 miles apart</p>
                                                    </div>
                                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200">
                                                        87% Match
                                                    </span>
                                                </div>
                                                <div class="mt-3 text-sm text-gray-500 dark:text-gray-400">
                                                    <p>Local textile factory produces fabric scraps that could be used by fashion design students for projects.</p>
                                                </div>
                                                <div class="mt-4 flex space-x-3">
                                                    <button type="button" class="inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                        Connect Parties
                                                    </button>
                                                    <button type="button" class="inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 shadow-sm text-xs font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                        View Details
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-6 text-center">
                                            <button type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                                                View All Matches
                                                <svg class="ml-2 -mr-1 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add Waste Stream Modal -->
    <div id="add-waste-modal" class="hidden fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 sm:mx-0 sm:h-10 sm:w-10">
                            <svg class="h-6 w-6 text-red-600 dark:text-red-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                            </svg>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white" id="modal-title">Add Waste Stream</h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-500 dark:text-gray-400">Add details about a waste stream that could be repurposed in the circular economy.</p>
                            </div>
                            <form class="mt-4 space-y-4">
                                <div>
                                    <label for="waste-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Waste Stream Name</label>
                                    <input type="text" name="waste-name" id="waste-name" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="E.g., Restaurant Food Waste">
                                </div>
                                <div>
                                    <label for="waste-type-select" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Waste Type</label>
                                    <select id="waste-type-select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                                        <option value="organic">Organic</option>
                                        <option value="plastic">Plastic</option>
                                        <option value="paper">Paper</option>
                                        <option value="metal">Metal</option>
                                        <option value="glass">Glass</option>
                                        <option value="electronic">Electronic</option>
                                        <option value="textile">Textile</option>
                                        <option value="construction">Construction</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="waste-quantity" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Quantity (per week)</label>
                                    <div class="mt-1 flex rounded-md shadow-sm">
                                        <input type="number" name="waste-quantity" id="waste-quantity" class="focus:ring-green-500 focus:border-green-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700" placeholder="0">
                                        <span class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-500 dark:text-gray-400 sm:text-sm">lbs/kg</span>
                                    </div>
                                </div>
                                <div>
                                    <label for="waste-address" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Address</label>
                                    <input type="text" name="waste-address" id="waste-address" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="Street address">
                                </div>
                                <div>
                                    <label for="waste-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Description</label>
                                    <textarea id="waste-description" name="waste-description" rows="3" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="Describe the waste stream, including any potential uses"></textarea>
                                </div>
                                <div>
                                    <label for="waste-contact" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Contact Information</label>
                                    <input type="text" name="waste-contact" id="waste-contact" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="Email or phone number">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="submit-waste" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm">Add to Map</button>
                    <button type="button" id="cancel-waste" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Solution Modal -->
    <div id="add-solution-modal" class="hidden fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 sm:mx-0 sm:h-10 sm:w-10">
                            <svg class="h-6 w-6 text-green-600 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                            </svg>
                        </div>
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                            <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white" id="modal-title">Add Circular Solution</h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-500 dark:text-gray-400">Add details about a circular economy solution that could repurpose waste streams.</p>
                            </div>
                            <form class="mt-4 space-y-4">
                                <div>
                                    <label for="solution-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Solution Name</label>
                                    <input type="text" name="solution-name" id="solution-name" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="E.g., Community Garden Composting">
                                </div>
                                <div>
                                    <label for="solution-type-select" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Solution Type</label>
                                    <select id="solution-type-select" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md">
                                        <option value="recycling">Recycling Center</option>
                                        <option value="upcycling">Upcycling Business</option>
                                        <option value="composting">Composting Facility</option>
                                        <option value="repair">Repair Shop</option>
                                        <option value="donation">Donation Center</option>
                                        <option value="sharing">Sharing Platform</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="solution-capacity" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Capacity (per week)</label>
                                    <div class="mt-1 flex rounded-md shadow-sm">
                                        <input type="number" name="solution-capacity" id="solution-capacity" class="focus:ring-green-500 focus:border-green-500 flex-1 block w-full rounded-none rounded-l-md sm:text-sm border-gray-300 dark:border-gray-600 dark:bg-gray-700" placeholder="0">
                                        <span class="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 dark:border-gray-600 dark:bg-gray-700 text-gray-500 dark:text-gray-400 sm:text-sm">lbs/kg</span>
                                    </div>
                                </div>
                                <div>
                                    <label for="solution-address" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Address</label>
                                    <input type="text" name="solution-address" id="solution-address" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="Street address">
                                </div>
                                <div>
                                    <label for="solution-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Description</label>
                                    <textarea id="solution-description" name="solution-description" rows="3" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="Describe the solution, including what types of waste it can process"></textarea>
                                </div>
                                <div>
                                    <label for="solution-contact" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Contact Information</label>
                                    <input type="text" name="solution-contact" id="solution-contact" class="mt-1 block w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm" placeholder="Email or phone number">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" id="submit-solution" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm">Add to Map</button>
                    <button type="button" id="cancel-solution" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize map
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Leaflet map
            const map = L.map('map').setView([40.7128, -74.0060], 12); // Default to NYC coordinates
            
            // Add OpenStreetMap tiles
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
            
            // Sample data for waste streams and solutions
            const wasteStreams = [
                { name: "Restaurant Food Waste", type: "organic", lat: 40.7218, lng: -73.9988, quantity: "75 lbs/day", description: "Daily food waste from local restaurants" },
                { name: "Construction Wood Waste", type: "construction", lat: 40.7328, lng: -74.0060, quantity: "500 lbs/week", description: "Clean wood scraps from renovation project" },
                { name: "Textile Factory Scraps", type: "textile", lat: 40.7028, lng: -73.9900, quantity: "200 lbs/week", description: "Fabric scraps from clothing manufacturing" }
            ];
            
            const circularSolutions = [
                { name: "Community Garden", type: "composting", lat: 40.7225, lng: -73.9995, capacity: "100 lbs/week", description: "Urban garden accepting food waste for composting" },
                { name: "Artisan Furniture Maker", type: "upcycling", lat: 40.7350, lng: -74.0080, capacity: "300 lbs/week", description: "Creates furniture from reclaimed wood" },
                { name: "Fashion Design School", type: "upcycling", lat: 40.7100, lng: -73.9850, capacity: "50 lbs/week", description: "Uses fabric scraps for student projects" },
                { name: "Electronics Repair Shop", type: "repair", lat: 40.7180, lng: -74.0100, capacity: "N/A", description: "Repairs and refurbishes electronic devices" },
                { name: "Plastic Recycling Center", type: "recycling", lat: 40.7050, lng: -74.0150, capacity: "1000 lbs/week", description: "Processes clean plastic waste" }
            ];
            
            // Add waste streams to map
            wasteStreams.forEach(waste => {
                const marker = L.marker([waste.lat, waste.lng], {
                    icon: L.divIcon({
                        className: 'waste-marker',
                        html: `<div class="w-4 h-4 rounded-full bg-red-500 border-2 border-white"></div>`,
                        iconSize: [20, 20],
                        iconAnchor: [10, 10]
                    })
                }).addTo(map);
                
                marker.bindPopup(`
                    <div class="text-sm">
                        <h3 class="font-bold">${waste.name}</h3>
                        <p><span class="font-semibold">Type:</span> ${waste.type}</p>
                        <p><span class="font-semibold">Quantity:</span> ${waste.quantity}</p>
                        <p>${waste.description}</p>
                    </div>
                `);
            });
            
            // Add circular solutions to map
            circularSolutions.forEach(solution => {
                let markerColor;
                switch(solution.type) {
                    case 'recycling': markerColor = 'bg-green-500'; break;
                    case 'upcycling': markerColor = 'bg-blue-500'; break;
                    case 'composting': markerColor = 'bg-yellow-500'; break;
                    default: markerColor = 'bg-purple-500';
                }
                
                const marker = L.marker([solution.lat, solution.lng], {
                    icon: L.divIcon({
                        className: 'solution-marker',
                        html: `<div class="w-4 h-4 rounded-full ${markerColor} border-2 border-white"></div>`,
                        iconSize: [20, 20],
                        iconAnchor: [10, 10]
                    })
                }).addTo(map);
                
                marker.bindPopup(`
                    <div class="text-sm">
                        <h3 class="font-bold">${solution.name}</h3>
                        <p><span class="font-semibold">Type:</span> ${solution.type}</p>
                        <p><span class="font-semibold">Capacity:</span> ${solution.capacity}</p>
                        <p>${solution.description}</p>
                    </div>
                `);
            });
            
            // Apply filters button
            document.getElementById('apply-filters').addEventListener('click', function() {
                const region = document.getElementById('region-select').value;
                const wasteType = document.getElementById('waste-type').value;
                const solutionType = document.getElementById('solution-type').value;
                const distance = document.getElementById('distance').value;
                
                // In a real application, this would filter the map markers based on the selected criteria
                alert(`Filters applied: Region=${region}, Waste Type=${wasteType}, Solution Type=${solutionType}, Distance=${distance} miles`);
            });
            
            // Modal handling for Add Waste Stream
            const wasteModal = document.getElementById('add-waste-modal');
            const addWasteBtn = document.getElementById('add-waste-stream');
            const cancelWasteBtn = document.getElementById('cancel-waste');
            const submitWasteBtn = document.getElementById('submit-waste');
            
            addWasteBtn.addEventListener('click', function() {
                wasteModal.classList.remove('hidden');
            });
            
            cancelWasteBtn.addEventListener('click', function() {
                wasteModal.classList.add('hidden');
            });
            
            submitWasteBtn.addEventListener('click', function() {
                // In a real application, this would add the new waste stream to the map
                alert('Waste stream added to map!');
                wasteModal.classList.add('hidden');
            });
            
            // Modal handling for Add Solution
            const solutionModal = document.getElementById('add-solution-modal');
            const addSolutionBtn = document.getElementById('add-solution');
            const cancelSolutionBtn = document.getElementById('cancel-solution');
            const submitSolutionBtn = document.getElementById('submit-solution');
            
            addSolutionBtn.addEventListener('click', function() {
                solutionModal.classList.remove('hidden');
            });
            
            cancelSolutionBtn.addEventListener('click', function() {
                solutionModal.classList.add('hidden');
            });
            
            submitSolutionBtn.addEventListener('click', function() {
                // In a real application, this would add the new solution to the map
                alert('Circular solution added to map!');
                solutionModal.classList.add('hidden');
            });
        });
        
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // User menu toggle
        document.getElementById('user-menu-button').addEventListener('click', function() {
            const userMenu = document.getElementById('user-menu');
            userMenu.classList.toggle('hidden');
        });
        
        // Theme toggle functionality
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');

        // On page load, check user preference or system preference
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            themeToggleDarkIcon.classList.remove('hidden');
        } else {
            document.documentElement.classList.remove('dark');
            themeToggleLightIcon.classList.remove('hidden');
        }

        themeToggleBtn.addEventListener('click', function() {
            // Toggle icons
            themeToggleDarkIcon.classList.toggle('hidden');
            themeToggleLightIcon.classList.toggle('hidden');
            
            // Toggle dark mode class
            if (localStorage.getItem('color-theme')) {
                if (localStorage.getItem('color-theme') === 'light') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                }
            } else {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                }
            }
        });
    </script>
</body>
</html>